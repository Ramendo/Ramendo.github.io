(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{f64a:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-page",{attrs:{"style-fn":e.myTweak}},[o("div",{staticClass:"row items-start q-gutter-md justify-center"},[o("div",{staticStyle:{width:"100%"},style:e.scrLtSm?"padding-top: 150px;":"padding-top: 180px;"}),o("q-card",{staticStyle:{"font-size":"20px",background:"#eee",color:"#333",width:"100%","max-width":"900px"},attrs:{flat:"",square:""}},[o("q-card-section",[o("q-card-section",[o("div",{staticStyle:{"padding-bottom":"25px"}},[o("b",[e._v("Оставить заявку")])]),o("q-form",{ref:"blankForm1",staticClass:"q-gutter-md"},[o("q-input",{attrs:{square:"",filled:"","bg-color":"white",color:"orange-10",label:"Имя*","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Поле не может быть пустым"}]},scopedSlots:e._u([{key:"hint",fn:function(){return[o("div",{staticStyle:{color:"#333"}},[e._v("Например, Сергей")])]},proxy:!0}]),model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),o("q-input",{attrs:{square:"",filled:"","bg-color":"white",color:"orange-10",type:"email",label:"Почта*","lazy-rules":"",rules:[function(t){return t&&e.validateEmail(t)||"Некорректная почта"}]},scopedSlots:e._u([{key:"hint",fn:function(){return[o("div",{staticStyle:{color:"#333"}},[e._v("Например, kolokaramello@mail.com")])]},proxy:!0}]),model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),o("q-input",{attrs:{square:"",filled:"","bg-color":"white",color:"orange-10",label:"Телефон*",mask:"(###) ### - ####",prefix:"+7","lazy-rules":"",rules:[function(e){return e&&16===e.length||"Введите телефон полностью"}]},scopedSlots:e._u([{key:"hint",fn:function(){return[o("div",{staticStyle:{color:"#333"}},[e._v("Например, +7 (912) 345-6789")])]},proxy:!0}]),model:{value:e.telephone,callback:function(t){e.telephone=t},expression:"telephone"}}),o("q-input",{attrs:{square:"",filled:"","bg-color":"white",color:"orange-10",label:"Название компании","lazy-rules":"",rules:[function(e){return!0}]},scopedSlots:e._u([{key:"hint",fn:function(){return[o("div",{staticStyle:{color:"#333"}})]},proxy:!0}]),model:{value:e.nameCompany,callback:function(t){e.nameCompany=t},expression:"nameCompany"}}),o("q-input",{attrs:{square:"",filled:"","bg-color":"white",color:"orange-10",type:"number",label:"Количество леденцов*","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"Пожалуйста, введите количество леденцов"},function(e){return e>=50||"Леденцов должно быть как минимум 50"}]},scopedSlots:e._u([{key:"hint",fn:function(){return[o("div",{staticStyle:{color:"#333"}},[e._v("Минимум 50 леденцов")])]},proxy:!0}]),model:{value:e.count,callback:function(t){e.count=t},expression:"count"}}),o("div",{staticStyle:{"padding-left":"12px","padding-top":"16px","font-size":"16px"}},[e._v("Удобный для Вас способ связи:")]),o("q-btn-toggle",{staticStyle:{"padding-left":"16px","padding-bottom":"16px"},attrs:{size:"16px","no-caps":"",rounded:"",unelevated:"","toggle-color":"orange-9",color:"white","text-color":"orange-9",options:[{label:"По почте",value:"mail"},{label:"По Whatsapp",value:"whatsapp"}]},model:{value:e.social,callback:function(t){e.social=t},expression:"social"}}),o("q-uploader",{ref:"logoUploader",staticStyle:{"max-width":"300px"},attrs:{url:"",accept:"image/*",label:"Загрузить логотип",color:"orange-10",square:"",flat:"",bordered:"","max-file-size":"10485760","max-files":"1"},on:{added:e.addedLogo,rejected:e.rejectedLogo,removed:e.removedLogo},scopedSlots:e._u([{key:"header",fn:function(t){return[t.canAddFiles?o("q-btn",{staticClass:"bg-orange-9 text-white",staticStyle:{width:"100%","border-radius":"0px"},attrs:{type:"a",label:"Загрузить логотип",flat:""}},[o("q-uploader-add-trigger")],1):e._e()]}},{key:"list",fn:function(t){return[t.files.length>0?o("div",{staticClass:"q-uploader__file relative-position q-uploader__file--img",style:'background-image: url("'+t.files[0].__img.src+'");'},[o("div",{staticClass:"q-uploader__file-header row flex-center no-wrap"},[o("div",{staticClass:"q-uploader__file-header-content col"},[o("div",{staticClass:"q-uploader__title"},[e._v(e._s(t.files[0].name))]),o("div",{staticClass:"q-uploader__subtitle row items-center no-wrap"},[e._v(e._s(t.files[0].__sizeLabel))])]),o("button",{staticClass:"q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--round q-btn--actionable q-focusable q-hoverable q-btn--wrap q-btn--dense",attrs:{tabindex:"0",type:"button",role:"button"},on:{click:function(e){return t.removeFile(t.files[0])}}},[o("span",{staticClass:"q-focus-helper"}),o("span",{staticClass:"q-btn__wrapper col row q-anchor--skip"},[o("span",{staticClass:"q-btn__content text-center col items-center q-anchor--skip justify-center row"},[o("i",{staticClass:"material-icons q-icon notranslate",attrs:{"aria-hidden":"true",role:"img"}},[e._v("clear")])])])])])]):e._e()]}}])}),o("div",{staticStyle:{width:"500px","padding-top":"16px"}},[o("q-btn",{staticClass:"bg-orange-9",staticStyle:{"border-radius":"0",color:"white"},attrs:{label:"Отправить"},on:{click:e.onSubmit}})],1),o("div",{staticStyle:{"font-size":"14px","padding-top":"25px",color:"rgba(0, 0, 0, 0.6)"}},[e._v('\n              Нажимая на кнопку "Отправить", вы даете согласие на обработку персональных данных и соглашаетесь c '),o("a",{staticStyle:{color:"#333",cursor:"pointer","text-decoration":"underline"},attrs:{href:"/privacy",target:"_blank"}},[e._v("политикой конфиденциальности")])])],1)],1)],1)],1),o("div",{staticStyle:{width:"100%"},style:e.scrLtSm?"padding-top: 90px;":"padding-top: 180px;"})],1)])},l=[];o("e6cf");const n="KOLOKARAMELLO - Оформить заказ";var i={data(){return{name:null,email:null,telephone:null,nameCompany:null,count:null,logo:null,relPos:0,offset:0,social:"mail"}},computed:{scrLtLg(){return this.$q.screen.lt.lg},scrLtSm(){return this.$q.screen.lt.sm},scrW(){return this.$q.screen.width},scrH(){return this.$q.screen.height}},meta:{title:n},methods:{onSubmit(){this.$refs.blankForm1.validate().then(e=>{if(e){let e=new FormData;this.name&&e.append("name",this.name),this.email&&e.append("email",this.email),this.telephone&&e.append("telephone","+7 "+this.telephone),this.nameCompany&&e.append("nameCompany",this.nameCompany),this.count&&e.append("count",this.count),this.social&&e.append("social","mail"===this.social?"по почте":"по Whatsapp"),this.logo&&e.append("logo",this.logo),fetch("/order.php",{method:"POST",body:e}).then(e=>{200===e.status?e.json().then(e=>{e.result?(this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Заявка отправлена, ожидайте звонка",classes:"notif"}),this.onReset()):this.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:"Во время отправки произошла ошибка",classes:"notif"})}):this.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:"Заявка не была отправлена",classes:"notif"})}).catch(()=>{this.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:"Заявка не была отправлена",classes:"notif"})})}else this.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:"Введите корректные данные",classes:"notif"})})},onReset(){this.name=null,this.email=null,this.telephone=null,this.nameCompany=null,this.count=null,this.$refs.blankForm1.resetValidation(),this.onSlideLeft()},onSlideRight(){this.$refs.blankForm1.validate().then(e=>{e?this.relPos=-this.$q.screen.width/1.5:this.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:"Введите корректные данные"})})},onSlideLeft(){this.relPos=0},myTweak(e){return this.offset=e,null},addLogo(){this.$refs.logoUploader.pickFiles()},addedLogo(e){this.logo=e[0]},rejectedLogo(){this.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:"Файл должен быть картинкой и весить не более 10-ти мегабайт!",classes:"notif"})},removedLogo(){this.logo=null},validateEmail(e){let t=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;return t.test(e)},changePage(e){this.$router.history.current.path!==e&&this.$router.push(e)}}},s=i,r=o("2877"),c=o("9989"),d=o("f09f"),u=o("a370"),p=o("0378"),h=o("27f9"),m=o("6a67"),f=o("ee89"),g=o("9c40"),b=o("cc04"),y=o("0016"),q=o("eebe"),v=o.n(q),w=Object(r["a"])(s,a,l,!1,null,"48b77db4",null);t["default"]=w.exports;v()(w,"components",{QPage:c["a"],QCard:d["a"],QCardSection:u["a"],QForm:p["a"],QInput:h["a"],QBtnToggle:m["a"],QUploader:f["a"],QBtn:g["a"],QUploaderAddTrigger:b["a"],QIcon:y["a"]})}}]);